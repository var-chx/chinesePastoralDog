<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
    
    .userInfo {
      border: 1px solid blue;
      text-align: center;
      
    }
    table {
      width: 600px;
      background-color: pink;
      margin: 10px auto;
      border-collapse: collapse;
    }
    table th,table td {
      border: 1px solid;

    }
    table th {
      padding: 20px 0;
      background-color: darkcyan;
      border-color: cornflowerblue;
      color: gold;
    }
    table td {
      border-color: aquamarine;
      padding: 10px 0;
      background-color: deepskyblue;
      text-align: center;
    }
    tbody tr:hover td{
      color: red;
      background-color: aquamarine;
    }
  </style>
</head>
<body>
  <div class="userInfo">
    <p>
      <label>用户名: <input class="userName" type="text"></label>
    </p>
    <p>
      <label>学　号: <input class="num" type="text"></label>
    </p>
    <p>
      <label>年　龄: <input class="age" type="text"></label>
    </p>
    <p>
      <button id="add">添加</button>
    </p>
  </div>
  <div class="userList">
    <table>
      <thead>
        <tr>
          <th>用户名</th>
          <th>学号</th>
          <th>年龄</th>
          <th>时间</th>
          <th>操作</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>张三</td>
          <td>10010</td>
          <td>17</td>
          <td>2016/10/10 22:22:22</td>
          <td><button>删除</button></td>
        </tr>
      </tbody>
    </table>
  </div>
  <script>
    // 封装时间
    function getFormat(time){
      var date=time;
      var y=date.getFullYear();
      var m=date.getMonth();
      var d=date.getDate();
      var h=date.getHours();
      var i=date.getMinutes();
      var s=date.getSeconds();
      m = m<10? '0'+m:m;
      d = d<10? '0'+d:d;
      h = h<10? '0'+h:h;
      i = i<10? '0'+i:i;
      s = s<10? '0'+s:s;
      var str=y+"/" + m + '/' + d +' '+ h +':'+i +':' +s;
      return str;
    }






    var userNameNode=document.querySelector('.userName');
    var numNode=document.querySelector('.num');
    var ageNode=document.querySelector('.age');
    var addNode=document.getElementById('add');
    var tbodyNode=document.querySelector('tbody');
    addNode.onclick=function(){
      var userNameValue=userNameNode.value;
      var numValue=numNode.value;
      var ageValue=ageNode.value;
      var trNode=document.createElement('tr');
      var date=new Date();
      var dateStr=getFormat(date);
      trNode.innerHTML= '<td>' +userNameValue+'</td>'+
          '<td>' +numValue +'</td>'+
          '<td>' +ageValue + '</td>' +
          '<td>'+dateStr +'</td>'+
          '<td><button>删除</button></td>'
      tbodyNode.appendChild(trNode);
    }



  


    tbodyNode.onclick=function(e){
      var _e = window.event||e;
      var _etarget=_e.target||_e.srcElement;
      if(_etarget.tagName.toLowerCase()=='button'){
        if(confirm('你真的要删除吗?')){
          var tr=_etarget.parentNode.parentNode;
          tbodyNode.removeChild(tr);
        }
        
      }
    }
  
  </script>
  
</body>
</html>